"use strict";"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),/*! checkboxrange v0.1.0-alpha [27-04-2015] | (c) Rafael Pawlos (http://rafaelpawlos.com) | MIT license */
function(a,b){var c="checkboxrange",d="plugin_"+c,e={init:function(b,c){var d=this;d.opts=b,d.container=a(c),d.checkboxes=d.container.find('input[type="checkbox"]'),d.container.addClass("checkbox-range-container"),d.opts.noStyle||(d.container.addClass("cr-style"),d.createStyleMask()),d.indexElements(d.checkboxes),d.bindActions()},bindActions:function(){var c=this;c.checkboxes.on("mousedown touchstart",function(b){("touchstart"!==b.type||1===b.originalEvent.touches.length)&&(c.startPoint=a(b.target),c.startPointIndex=c.startPoint.data(c.iKey),c.startPointOffLeft=c.startPoint.offset().left,c.startPointOffTop=c.startPoint.offset().top,c.containerOffLeft=c.container.offset().left,c.containerOffTop=c.container.offset().top,c.assembleMarkElements(),c.bind(c.container,"mousemove",c.movePointer),c.bindHoverActions())}),a(b).on("mouseup touchend",function(){a("#checkbox-range-start, #checkbox-range-bound-canvas, #checkbox-range-stop").remove(),c.unbind(c.container,"mousemove"),c.unbind(c.checkboxes,"mouseenter"),c.unbind(c.checkboxes,"touchstart.second")})},bindHoverActions:function(){var b=this;b.bind(b.checkboxes,"mouseenter touchstart.second",function(c){if("touchstart"===c.type){if(1===c.originalEvent.touches.length)return;b.endPoint=a(c.originalEvent.touches[1].target)}else b.endPoint=a(c.target);b.endPointIndex=b.endPoint.data(b.iKey),b.endPointIndex!==b.startPointIndex&&(b.endPoint.after('<span id="checkbox-range-stop"></span>'),b.magnetToEndPoint(),b.unbind(b.container,"mousemove"),b.bind(b.endPoint,"mouseup touchend",b.toggleCheckboxesRange,!0),b.endPoint.one("mouseleave touchend",function(){b.endPoint.off("mouseup"),a("#checkbox-range-stop").remove(),b.bind(b.container,"mousemove",b.movePointer)}))})},bind:function(a,b,d,e){var f=this,g="."+c;if(/ /.test(b))var h=b.split(" "),i=h.join(g+" ")+g;else var i=b+g;e?a.one(i,function(a){return d.call(f,a)}):a.on(i,function(a){return d.call(f,a)})},unbind:function(a,b){var d=b+"."+c;a.off(d)},indexElements:function(b){var d=this;d.iKey=c+"Index",b.each(function(b){a.data(this,d.iKey,b)})},createStyleMask:function(){var a=this;a.checkboxes.after('<span class="checkbox-mask"></span>')},assembleMarkElements:function(){var a=this,b=a.startPoint.offset().left-a.containerOffLeft+a.opts.lineOffsetLeft,c=a.startPoint.offset().top-a.containerOffTop+a.opts.lineOffsetTop;a.startPoint.after('<span id="checkbox-range-start"></span>'),a.container.append('<svg id="checkbox-range-bound-canvas"><line x1="'+b+'" y1="'+c+'" x2="'+b+'" y2="'+c+'"/></svg>')},movePointer:function(b){var c=this,d=b.pageX,e=b.pageY;switch(c.opts.path){case"horizontal":var f=d-c.containerOffLeft,g=c.startPointOffTop-c.containerOffTop+c.opts.lineOffsetTop;break;case"vertical":var f=c.startPointOffLeft-c.containerOffLeft+c.opts.lineOffsetLeft,g=e-c.containerOffTop;break;case"any":var f=d-c.containerOffLeft,g=e-c.containerOffTop}a("#checkbox-range-bound-canvas line").attr("x2",f).attr("y2",g)},magnetToEndPoint:function(){var b=this,c=b.endPoint.offset().left-b.containerOffLeft+b.opts.lineOffsetLeft,d=b.endPoint.offset().top-b.containerOffTop+b.opts.lineOffsetTop;a("#checkbox-range-bound-canvas line").attr("x2",c).attr("y2",d)},getElementsRange:function(){var a=this;if(a.startPointIndex>a.endPointIndex){var b=a.startPointIndex;a.startPointIndex=a.endPointIndex,a.endPointIndex=b}var c=a.startPoint.add(a.endPoint);return a.checkboxes.each(function(b){b>a.startPointIndex&&b<a.endPointIndex&&(c=c.add(a.checkboxes[b]))}),c},toggleCheckboxesRange:function(){var b=this,c=b.getElementsRange();c.prop("checked",function(){a(this).prop("checked")===!0?a(this).prop("checked",!1):a(this).prop("checked",!0)})}};a.fn[c]=function(b){var c=a.extend(!0,{path:"any",noStyle:!1,lineOffsetTop:10,lineOffsetLeft:10,onSelectEnd:function(){}},b);return this.each(function(){var b=a.data(this,d);return b?void a.error("Plugin is already initialized for this object."):(b=Object.create(e).init(c,this),void a.data(this,d,b))})}}(jQuery,document);